project (ScBridge)

if (CMAKE_SYSTEM_NAME MATCHES "Linux")
	set(LINUX 1)
endif()

cmake_minimum_required (VERSION 2.8.11)

INCLUDE("ScBridgeVersion.txt" ${QT_USE_FILE})
SET(PROJECT_VERSION "${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}${PROJECT_VERSION_PATCH}")

SET(CMAKE_AUTOMOC ON)
SET(CMAKE_AUTORCC ON)

if(CMAKE_GENERATOR MATCHES "Visual Studio 12 2013")
	SET(CMAKE_CONFIGURATION_TYPES Debug Release)
	SET(CMAKE_CONFIGURATION_TYPES "${CMAKE_CONFIGURATION_TYPES}" CACHE STRING
        "Reset the configurations to what we need/support"
        FORCE
    )
endif()
MESSAGE(STATUS "CMAKE_GENERATOR : ${CMAKE_GENERATOR}")
MESSAGE(STATUS "CMAKE_CONFIGURATION_TYPES : ${CMAKE_CONFIGURATION_TYPES}")

if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
	SET(CMAKE_INSTALL_PREFIX "${CMAKE_BINARY_DIR}/Install" CACHE STRING "Cmake install path" FORCE)
endif()

MESSAGE(STATUS "SCBRIDGE_VERSION : " ${PROJECT_VERSION} )
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR})

ADD_SUBDIRECTORY (ScBridge)

